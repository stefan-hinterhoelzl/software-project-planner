<div class="project-header">
  <h2>Meine Projekte</h2>
  <span class="spacer"></span>
  <button
    mat-fab
    color="primary"
    matTooltip="Neues Projekt erstellen"
    [matTooltipShowDelay]="2000"
    (click)="navigate('')"
  >
    <mat-icon>add</mat-icon>
  </button>
</div>

<mat-list>
  <mat-list-item *ngFor="let project of projects">
    <mat-icon
      [matMenuTriggerFor]="menu"
      class="listicon"
      matListItemIcon
      [matTooltipPosition]="'below'"
      matTooltip="Projektmenü"
      [matTooltipShowDelay]="2000"
      >folder</mat-icon>

    <mat-menu #menu="matMenu">
      <button mat-menu-item (click) = "navigate(project.uid)">
        <mat-icon>edit</mat-icon>
        <span>Bearbeiten</span>
      </button>
      <button *ngIf="!project.favourite" mat-menu-item (click)="toggleFavourite(project.uid, true)">
        <mat-icon>favorite</mat-icon>
        <span>Zu Favoriten hinzufügen</span>
      </button>
      <button *ngIf="project.favourite" mat-menu-item (click)="toggleFavourite(project.uid, false)">
        <mat-icon>favorite</mat-icon>
        <span>Von Favoriten entfernen</span>
      </button>
      <button mat-menu-item (click)="deleteProject(project)">
        <mat-icon>delete</mat-icon>
        <span>Löschen</span>
      </button>
    </mat-menu>
    <div matListItemTitle>
      <span
        class="listitem"
        [matTooltipPosition]="'below'"
        matTooltip="{{ project.name }}"
        [matTooltipShowDelay]="2000"
        >{{ project.name }}</span
      >
    </div>
  </mat-list-item>
</mat-list>
